(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{365:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"ajax初步认知"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ajax初步认知"}},[t._v("#")]),t._v(" AJAX初步认知")]),t._v(" "),a("p",[t._v("AJAX是英文 "),a("code",[t._v("Asynchronous JavaScript and XML")]),t._v(" 的缩写，意思为异步的 Javascript 和 XML。是一种在无需重新加载整个网页的情况下向浏览器发起请求并接受响应，最后对网页局部进行更新的技术。")]),t._v(" "),a("p",[a("strong",[t._v("AJAX 的核心")]),t._v("就是"),a("code",[t._v("XMLHttpRequest")]),t._v("对象，该对象可以发起 http 请求，我们可以监听其 "),a("code",[t._v("readystate")]),t._v(" 的变化获得响应。")]),t._v(" "),a("p",[t._v("具体代码如下")]),t._v(" "),a("h5",{attrs:{id:"_1-创建一个对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建一个对象"}},[t._v("#")]),t._v(" 1.创建一个对象")]),t._v(" "),a("p",[a("code",[t._v("var request = new XMLHttpRequest()；")])]),t._v(" "),a("h5",{attrs:{id:"_2-创建-http-请求-设置请求参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建-http-请求-设置请求参数"}},[t._v("#")]),t._v(" 2.创建 http 请求，设置请求参数")]),t._v(" "),a("p",[a("code",[t._v("request.open('get', 'http://www.xxx.com')；")])]),t._v(" "),a("h5",{attrs:{id:"_3-监听"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-监听"}},[t._v("#")]),t._v(" 3.监听")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onreadystatechange")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n​  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("readyState "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求成功"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("；\n    ​"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求失败"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("；\n    ​"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[a("p",[a("code",[t._v("onreadystatechanges")]),t._v(" 会在 "),a("code",[t._v("readyState")]),t._v(" 属性改变时被触发调用")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("readyState")]),t._v(" 返回 "),a("code",[t._v("XMLHttpRequest")]),t._v(" 当前所处状态，")]),t._v(" "),a("p",[t._v("​ 0：未初始化，尚未调用 open()")]),t._v(" "),a("p",[t._v("​ 1："),a("code",[t._v("open()")]),t._v("方法已被调用")]),t._v(" "),a("p",[t._v("​ 2："),a("code",[t._v("send()")]),t._v("方法已被调用，服务器响应客户端请求，并且头部和状态已可获得")]),t._v(" "),a("p",[t._v("​ 3：下载中，"),a("code",[t._v("responseText")]),t._v(" 属性已包含部分数据")]),t._v(" "),a("p",[t._v("​ 4：请求操作已完成，这代表数据传输已彻底完成或者失败")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("status")]),t._v("：服务器返回的状态码")])])]),t._v(" "),a("h5",{attrs:{id:"_4-发送请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-发送请求"}},[t._v("#")]),t._v(" 4.发送请求")]),t._v(" "),a("p",[a("code",[t._v("request.send();")])]),t._v(" "),a("p",{staticStyle:{"font-size":"20px","font-weight":"900"}},[t._v("总结")]),t._v(" "),a("p",[a("strong",[t._v("AJAX 的优点")]),t._v("：")]),t._v(" "),a("ol",[a("li",[t._v("最大优点就是无刷新更新页面")]),t._v(" "),a("li",[t._v("异步与服务器通讯")]),t._v(" "),a("li",[t._v("减轻服务器的负载和带宽")]),t._v(" "),a("li",[t._v("基于标准被广泛支持")])]),t._v(" "),a("p",[a("strong",[t._v("AJAX 的缺点")]),t._v("：")]),t._v(" "),a("ol",[a("li",[t._v("干掉了 Back 和 History 功能，即对浏览器机制的破坏")]),t._v(" "),a("li",[t._v("安全问题")]),t._v(" "),a("li",[t._v("影响 SEO")])]),t._v(" "),a("p",[a("strong",[t._v("应用场景：")])]),t._v(" "),a("p",[t._v("场景 1. 数据验证")]),t._v(" "),a("p",[t._v("场景 2. 按需取数据")]),t._v(" "),a("p",[t._v("场景 3. 自动更新页面")])])}),[],!1,null,null,null);s.default=e.exports}}]);